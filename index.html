<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CVXRTVRF8M"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CVXRTVRF8M');
    </script>

    <!-- Primary SEO -->
    <title>Nail Biting Detector - Stop Nail Biting with AI | Free Online Tool</title>
    <meta name="description" content="Break your nail biting habit with AI-powered real-time detection. Get instant alerts when your hands approach your mouth. 100% private, runs in your browser. Free tool to stop nail biting.">
    <meta name="keywords" content="nail biting detector, stop nail biting, nail biting habit, onychophagia, habit breaking, AI detection, face touch monitor, nail biting cure, stop biting nails">
    <meta name="author" content="Gabriel Lupu">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://nailbitingdetector.com/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://nailbitingdetector.com/">
    <meta property="og:title" content="Nail Biting Detector - Stop Nail Biting with AI">
    <meta property="og:description" content="Break your nail biting habit with AI-powered real-time detection. Get instant alerts when your hands approach your mouth. 100% private and free.">
    <meta property="og:image" content="https://nailbitingdetector.com/og-image.png">
    <meta property="og:site_name" content="Nail Biting Detector">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://nailbitingdetector.com/">
    <meta name="twitter:title" content="Nail Biting Detector - Stop Nail Biting with AI">
    <meta name="twitter:description" content="Break your nail biting habit with AI-powered real-time detection. Get instant alerts when your hands approach your mouth. 100% private and free.">
    <meta name="twitter:image" content="https://nailbitingdetector.com/og-image.png">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Nail Biting Detector",
        "url": "https://nailbitingdetector.com",
        "description": "AI-powered tool to help you stop nail biting by detecting when your hands approach your mouth",
        "applicationCategory": "HealthApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Real-time nail biting detection",
            "Sound and visual alerts",
            "Privacy-first - all processing in browser",
            "Configurable detection zones",
            "Statistics tracking"
        ]
    }
    </script>

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Main Video Area -->
        <main class="video-section">
            <div class="video-wrapper" id="videoWrapper">
                <video id="videoElement" autoplay playsinline muted></video>
                <canvas id="overlayCanvas"></canvas>

                <!-- Detection Status Overlay -->
                <div class="detection-overlay" id="detectionOverlay">
                    <div class="detection-status" id="detectionStatus">
                        <span class="status-dot"></span>
                        <span class="status-text">Ready</span>
                    </div>
                </div>

                <!-- Alert Flash -->
                <div class="alert-flash" id="alertFlash"></div>
            </div>

            <!-- Lateral Camera Preview (for posture detection) -->
            <div class="lateral-video-wrapper" id="lateralVideoWrapper">
                <div class="lateral-video-header">
                    <span class="lateral-label">Lateral Camera (Posture)</span>
                    <div class="posture-status" id="postureStatus">
                        <span class="posture-status-dot"></span>
                        <span class="posture-status-text">--</span>
                    </div>
                </div>
                <video id="lateralVideoElement" autoplay playsinline muted></video>
                <canvas id="lateralOverlayCanvas"></canvas>
            </div>

            <!-- Welcome Content (shown before start) -->
            <section class="welcome-content" id="welcomeContent">
                <h1>Nail Biting Detector</h1>
                <p class="tagline">Break your nail biting habit with AI-powered real-time detection</p>

                <div class="features">
                    <div class="feature">
                        <span class="feature-icon">&#128133;</span>
                        <span>Stop Nail Biting</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">&#128274;</span>
                        <span>100% Private</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">&#9889;</span>
                        <span>Instant Alerts</span>
                    </div>
                </div>

                <p class="description">
                    Struggling to stop biting your nails? This free tool uses advanced AI to detect
                    when your hands approach your mouth and alerts you instantly. Build awareness
                    of your unconscious habit and train yourself to stop. All processing happens
                    locally in your browser - your camera feed is never recorded or transmitted.
                </p>

                <button class="btn-primary" id="startButton">
                    <span>Start Detection</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="5 3 19 12 5 21 5 3"></polygon>
                    </svg>
                </button>

                <p class="privacy-note">
                    Your camera feed never leaves your device. No data is collected or transmitted.
                </p>
            </section>

            <!-- Loading State -->
            <div class="loading-state" id="loadingState">
                <div class="loader-ring"></div>
                <p>Loading AI models...</p>
                <p class="loader-subtitle">This may take a moment on first load</p>
            </div>
        </main>

        <!-- Dashboard Sidebar -->
        <aside class="dashboard" id="dashboard">
            <div class="dashboard-content">
                <header class="dashboard-header">
                    <h2>Dashboard</h2>
                    <div class="connection-status" id="connectionStatus">
                        <span class="pulse"></span>
                        <span id="statusText">Inactive</span>
                    </div>
                </header>

                <!-- Statistics Section -->
                <section class="stats-section">
                    <h3>Statistics</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-value" id="touchCount">0</span>
                            <span class="stat-label">Face Touches</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="lastTouch">--</span>
                            <span class="stat-label">Last Touch</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="touchRate">0.0</span>
                            <span class="stat-label">Per Hour</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="fpsDisplay">--</span>
                            <span class="stat-label">FPS</span>
                        </div>
                    </div>
                </section>

                <!-- Controls Section -->
                <section class="controls-section">
                    <h3>Alerts</h3>

                    <div class="control-group">
                        <label class="toggle-control">
                            <input type="checkbox" id="beepToggle" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Sound alert</span>
                        </label>

                        <label class="toggle-control">
                            <input type="checkbox" id="notifyToggle">
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Browser notification</span>
                        </label>

                        <label class="toggle-control">
                            <input type="checkbox" id="visualAlertToggle" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Visual flash</span>
                        </label>
                    </div>

                    <div class="slider-control">
                        <label for="alertCooldown">Alert cooldown</label>
                        <input type="range" id="alertCooldown" min="0.5" max="5" step="0.5" value="2">
                        <div class="slider-labels">
                            <span>0.5s</span>
                            <span id="cooldownValue">2s</span>
                            <span>5s</span>
                        </div>
                    </div>
                </section>

                <!-- Detection Zones Section -->
                <section class="controls-section">
                    <h3>Detection Zones</h3>
                    <p class="section-hint">Select which areas trigger alerts</p>

                    <div class="control-group zone-toggles">
                        <label class="toggle-control">
                            <input type="checkbox" id="zoneMouth" checked>
                            <span class="toggle-slider zone-mouth"></span>
                            <span class="toggle-label">Mouth <span class="zone-hint">(nail biting)</span></span>
                        </label>

                        <label class="toggle-control">
                            <input type="checkbox" id="zoneNose" checked>
                            <span class="toggle-slider zone-nose"></span>
                            <span class="toggle-label">Nose</span>
                        </label>

                        <label class="toggle-control">
                            <input type="checkbox" id="zoneEyes" checked>
                            <span class="toggle-slider zone-eyes"></span>
                            <span class="toggle-label">Eyes</span>
                        </label>

                        <label class="toggle-control">
                            <input type="checkbox" id="zoneCheeks">
                            <span class="toggle-slider zone-cheeks"></span>
                            <span class="toggle-label">Cheeks</span>
                        </label>

                        <label class="toggle-control">
                            <input type="checkbox" id="zoneChin">
                            <span class="toggle-slider zone-chin"></span>
                            <span class="toggle-label">Chin</span>
                        </label>
                    </div>
                </section>

                <!-- Visualization Section -->
                <section class="controls-section">
                    <h3>Visualization</h3>

                    <div class="control-group">
                        <label class="toggle-control">
                            <input type="checkbox" id="showLandmarks" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Show face mesh</span>
                        </label>

                        <label class="toggle-control">
                            <input type="checkbox" id="showHands" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Show hand tracking</span>
                        </label>

                        <label class="toggle-control">
                            <input type="checkbox" id="showProximity">
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Show proximity zones</span>
                        </label>
                    </div>
                </section>

                <!-- Posture Detection Section -->
                <section class="controls-section posture-section">
                    <h3>Posture Detection</h3>
                    <p class="section-hint">Use a lateral (side) camera to monitor posture</p>

                    <div class="control-group">
                        <label class="toggle-control">
                            <input type="checkbox" id="postureToggle">
                            <span class="toggle-slider zone-posture"></span>
                            <span class="toggle-label">Enable posture alerts</span>
                        </label>

                        <div class="select-control">
                            <label for="lateralCameraSelect">Lateral camera</label>
                            <select id="lateralCameraSelect">
                                <option value="">Select lateral camera...</option>
                            </select>
                        </div>

                        <label class="toggle-control">
                            <input type="checkbox" id="showPoseLandmarks" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Show pose landmarks</span>
                        </label>
                    </div>

                    <div class="posture-stats">
                        <div class="stat-mini">
                            <span class="stat-mini-value" id="postureAlertCount">0</span>
                            <span class="stat-mini-label">Posture Alerts</span>
                        </div>
                        <div class="stat-mini">
                            <span class="stat-mini-value" id="lastPostureAlert">--</span>
                            <span class="stat-mini-label">Last Alert</span>
                        </div>
                    </div>

                    <div class="posture-fine-tuning">
                        <h4>Fine Tuning</h4>

                        <div class="slider-control">
                            <label for="postureSensitivitySlider">Overall sensitivity</label>
                            <input type="range" id="postureSensitivitySlider" min="50" max="200" value="100">
                            <div class="slider-labels">
                                <span>Less</span>
                                <span id="postureSensitivityValue">100%</span>
                                <span>More</span>
                            </div>
                        </div>

                        <div class="slider-control">
                            <label for="headForwardSlider">Head forward threshold</label>
                            <input type="range" id="headForwardSlider" min="5" max="30" value="15">
                            <div class="slider-labels">
                                <span>5°</span>
                                <span id="headForwardValue">15°</span>
                                <span>30°</span>
                            </div>
                        </div>

                        <div class="slider-control">
                            <label for="shoulderSlouchSlider">Shoulder slouch threshold</label>
                            <input type="range" id="shoulderSlouchSlider" min="5" max="25" value="10">
                            <div class="slider-labels">
                                <span>5°</span>
                                <span id="shoulderSlouchValue">10°</span>
                                <span>25°</span>
                            </div>
                        </div>

                        <div class="slider-control">
                            <label for="spineAngleSlider">Spine curve threshold</label>
                            <input type="range" id="spineAngleSlider" min="5" max="30" value="15">
                            <div class="slider-labels">
                                <span>5°</span>
                                <span id="spineAngleValue">15°</span>
                                <span>30°</span>
                            </div>
                        </div>

                        <div class="slider-control">
                            <label for="postureCooldownSlider">Alert cooldown</label>
                            <input type="range" id="postureCooldownSlider" min="1" max="10" step="0.5" value="3">
                            <div class="slider-labels">
                                <span>1s</span>
                                <span id="postureCooldownValue">3s</span>
                                <span>10s</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sensitivity Section -->
                <section class="controls-section">
                    <h3>Sensitivity</h3>
                    <div class="slider-control">
                        <input type="range" id="sensitivitySlider" min="50" max="200" value="100">
                        <div class="slider-labels">
                            <span>Less Sensitive</span>
                            <span id="sensitivityValue">100%</span>
                            <span>More Sensitive</span>
                        </div>
                    </div>
                </section>

                <!-- Actions -->
                <section class="actions-section">
                    <button class="btn-secondary" id="resetStats">
                        Reset Statistics
                    </button>
                    <button class="btn-danger" id="stopButton">
                        Stop Monitoring
                    </button>
                </section>

                <!-- Info -->
                <footer class="dashboard-footer">
                    <p>Powered by <a href="https://ai.google.dev/edge/mediapipe/solutions/guide" target="_blank" rel="noopener">MediaPipe</a></p>
                    <a href="https://github.com/gabriellupu/facetouchmonitor" target="_blank" rel="noopener" class="github-badge">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        <span>View on GitHub</span>
                    </a>
                    <p class="author-credit">Made by <a href="https://github.com/gabriellupu" target="_blank" rel="noopener">@gabriellupu</a></p>
                </footer>
            </div>
        </aside>
    </div>

    <!-- Scripts -->
    <script type="module" src="detect.js"></script>
</body>
</html>
